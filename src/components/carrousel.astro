---
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
import Swiper from 'swiper';

const { images = [], carouselId = "defaultCarousel" } = Astro.props;
---

<div class="carousel-container w-full max-w-4xl mx-auto relative">
    <div class="swiper" id={carouselId}>
        <div class="swiper-wrapper">
            {images.map((img, index) => {
                return `<div class="swiper-slide" key="${index}">
                    <img src="${img}" alt="Slide ${index + 1}" class="w-full h-auto rounded-lg object-cover shadow-lg" />
                </div>`;
            }).join('')}

        </div>

        <!-- Pagination -->
        <div class="swiper-pagination"></div>

        <!-- Navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    new Swiper(`#${carouselId}`, {
      loop: true,
      spaceBetween: 20,
      slidesPerView: 1,
      navigation: {
        nextEl: `#${carouselId} .swiper-button-next`,
        prevEl: `#${carouselId} .swiper-button-prev`,
      },
      pagination: {
        el: `#${carouselId} .swiper-pagination`,
        clickable: true,
      },
    });
  });
</script> 
